
 
  <div class="app-content content">
    <div class="content-overlay"></div>
    <div class="content-wrapper">
      <div class="content-header row">
        <div class="content-header-left col-md-6 col-12">
          <h3 class="content-header-title mb-0">Computerisation PACS Payments Module</h3>
          <div class="row breadcrumbs-top">
            <div class="breadcrumb-wrapper col-12">
              
            </div>
          </div>
        </div>
      </div>
      <div class="content-body">   
        <section id="basic-form-layouts">
          <div class="row match-height">
            <div class="col-md-12">
              <div class="card">
                <div class="card-header"></div>
                <div class="card-content collapse show">
                  <div class="card-body">
                    <div class="form">
                      <!-- <div >
                        <button type="button" class="btn btn-sm btn-success pull-right" (click)="btnapproved()">
                          <i class="fa fa-eye mr-2" aria-hidden="true"></i>
                          Approve Details
                      </button>
                        <button type="button" class="btn btn-sm btn-danger pull-right" (click)="btnRejected()">
                          <i class="fa fa-eye mr-2" aria-hidden="true"></i>
                          Pending Details
                      </button>
                      </div> -->
                      <div class="form-body">
                        <h4 class="form-section">
                          <i class="feather icon-user"></i>Computerisation PACS Payments Module
                        </h4> 
                        
                        <div class="row">
                            <div class="col-md-12">
                                <button type="button" class="btn btn-sm btn-success pull-right" (click)="btnExcelDownload()">
                                    <i class="fa fa-file-excel-o mr-2" aria-hidden="true"></i>
                                    DOWNLOAD EXCEL
                                </button>
                                <!-- <button
                                type="button"
                                class="btn btn-sm btn-danger pull-right"
                                (click)="btnPDF()"
                              >
                                <i
                                  class="fa fa-file-pdf-o mr-2"
                                  aria-hidden="true"
                                ></i>
                                DOWNLOAD PDF
                              </button> -->
                            </div>
                            <div class="col-md-12 table-responsive" [hidden]="DEVICEDETAILSLIST.length < 1" *ngIf="DeviceDetails">
                                <table class="table table-bordered">
                                    <thead class="thead-dark">
                                        <tr>
                                            <th>S.No</th>
                                            <th>TRANSACTION ID</th>
                                            <th>TRANSACTION DATE</th>
                                            <th>PACS COUNT</th>
                                            <th>REQUESTED AMOUNT</th>
                                            <th>TRANSACTION STATUS</th>
                                            <th>LAST PAYMENT DATE</th>
                                            <th>TOTAL PAID AMOUNT</th>
                                            <th>BALANCE AMOUNT</th>
                                            <th>PAYMENT CLAIM FILE</th>
                                            <th>PAYMENT<br>RECOMMENDATION<br>FILE BY HARDWARE</th>
                                             
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let obj of DEVICEDETAILSLIST; let i = index" >
                                            <td style="font-size: 14px;"><b>{{ i + 1 }}</b></td> 
                                            <!-- <td style="font-size: 14px;"><b>{{ obj.TRANSACTION_ID }}</b></td> -->

                                            <td>
                                              <a 
                                                style="cursor: pointer; text-decoration: underline"
                                                class="text-primary"
                                                (click)="btnGetDetails(obj)"
                                                ><b>{{ obj.TRANSACTION_ID }}</b></a
                                              >
                                              <!-- <span *ngIf="obj.PACS_STATUS!= 0">{{ obj.TRANSACTION_ID }}</span> -->
                                            </td>
                                            <td style="font-size: 14px;"><b>{{ obj.TRANSACTION_DATE }}</b></td>
                                            <td style="font-size: 14px;"><b>{{ obj.PACS_COUNT }}</b></td>
                                            <td style="font-size: 14px;"><b>{{ obj.REQUESTED_AMOUNT }}</b></td>
                                            <td style="font-size: 14px;"><b>{{ obj.TRANSACTION_STATUS_MSG }}</b></td>
                                            <td style="font-size: 14px;"><b>{{ obj.LAST_PAYMENT_DATE }}</b></td>
                                            <td style="font-size: 14px;"><b>{{ obj.TOTAL_PAID_AMOUNT }}</b></td>
                                            <td style="font-size: 14px;"><b>{{ obj.BALANCE_AMOUNT }}</b></td> 
                                            <td> 
                                              <button 
                                              type="button" 
                                                class="btn btn-link btn-sm btn-info" 
                                                (click)="btnDOCView(obj.TRANSACTION_ID)" style="font-size: 12px;">  
                                                <i class="fa fa-download text-white"></i>
                                              </button> 
                                          </td>  
                                            <td> 
                                              <button 
                                              type="button"
                                               *ngIf="obj.HARDWARE_PATH != null"
                                                class="btn btn-link btn-sm" 
                                                (click)="btnPdfViewCrystal(obj.HARDWARE_PATH)" style="font-size: 12px;">  
                                                  View
                                              </button>
                                              <span *ngIf="obj.HARDWARE_PATH == null">NA </span> 
                                          </td> 
                                               
                                        </tr>
                                    </tbody> 
                                </table>  
                            </div> 
                            <div class="col-md-12 row "  *ngIf="TransactionDetails">
                              
                                <div class="col-md-11"></div>
                                <div class="col-md-1">
                                  <button
                                  type="button"
                                  class="btn btn-sm btn-info pull-right"
                                  (click)="btnback()"
                                >Back</button> 
                                </div>
                            
                            </div>

                            <div class="col-md-12 table-responsive" [hidden]="TRANSACTIONLIST.length < 1" *ngIf="TransactionDetails"> 
                              <table class="table table-bordered">
                                  <thead class="thead-dark">
                                      <tr>
                                          <th>S.No</th>
                                          <th>TRANSACTION ID</th>
                                          <th>PACS CODE</th>
                                          <th>PACS NAME</th>
                                          <th>GST TOTAL AMOUNT</th>
                                          <th>CEO AUTHORIZED CERTIFICATE</th>  
                                          <th>VIEW DETAILS</th>  
                                          <th *ngIf="Checkboxdisable">
                                            <input type="checkbox" (change)="selectAll($event)" [checked]="allSelected">
                                        </th>
                                      </tr>
                                  </thead>
                                  <tbody>
                                      <tr *ngFor="let obj of TRANSACTIONLIST; let i = index" >
                                          <td style="font-size: 14px;"><b>{{ i + 1 }}</b></td>  
                                          <td style="font-size: 14px;"><b>{{ obj.TRANS_ID }}</b></td>
                                          <td style="font-size: 14px;"><b>{{ obj.PACS_CODE }}</b></td>
                                          <td style="font-size: 14px;"><b>{{ obj.PACS_NAME }}</b></td>
                                          <td style="font-size: 14px;"><b>{{ obj.GST_TOT_AMOUNT }}</b></td>
                                          <!-- <td style="font-size: 14px;"><b>{{ obj.CEO_PATH }}</b></td>  -->

                                          <td> 
                                            <button 
                                            type="button"
                                             *ngIf="obj.CEO_PATH != null"
                                              class="btn btn-link btn-sm" 
                                              (click)="btnPdfView(obj.CEO_PATH)" style="font-size: 12px;">  
                                                View
                                            </button>
                                            <span *ngIf="obj.CEO_PATH == null">NA </span> 
                                        </td>  
                                        <td>
                                          <button
                                          type="button" class="btn btn-info"                               
                                           
                                          (click)="btnViewDetails(obj)"  title="Details View"
                                        ><i class="fas fa-eye" style="color: white;"></i></button>
                                        </td> 

                                        <td *ngIf="Checkboxdisable">
                                          <input type="checkbox" [(ngModel)]="obj.selected" name="selected-{{ i }}" (change)="updateSubmitVisibility()">
                                      </td> 
                                      </tr>
                                  </tbody> 
                              </table>  
<div *ngIf="Checkboxdisable">
                              <div class="col-md-12 row "  *ngIf="TransactionDetails">
                              <div class="col-md-2"><label for="giftAndDeedPhotoUpload" class="float-right">PAYMENT RECOMMENDED PDF FILE UPLOAD <span style="color: red">*</span>
                              </label></div>
                                <div class="col-md-2">
                                  <div class="form-group">
                                    
                                    <input type="file" class="form-control p-0" id="giftAndDeedPhotoUpload" (change)="onpdffileChange($event)"
                                      accept="pdf/*" autocomplete="off" />
                                  </div>
                                </div>
                                <div class="col-md-3">
                                  <button
                                  type="button"
                                  class="btn btn-sm btn-danger pull-right"
                                  (click)="btnReject()"
                                >REJECT</button>
                                  <!-- <button
                                  type="button"
                                  class="btn btn-sm btn-info pull-right"
                                  (click)="btnhold()"
                                >HOLD</button> -->
                                 
                                  <button
                                  type="button"
                                  class="btn btn-sm btn-success pull-right"
                                  (click)="btnVerify()"
                                >APPROVE</button>  
                                
                                </div>
                                
                                <div class="col-md-5"></div>
                            </div>
                          </div>
                            </div>
                          </div> 

                          <div class="col-md-12 row "  *ngIf="ViewPACSDet">
                              
                            <div class="col-md-11">
                              <h5><label> PACS NAME : </label> <span class="text-success"> {{pacsname | uppercase}}</span></h5> 
                             </div>
                            <div class="col-md-1">
                              <button
                              type="button"
                              class="btn btn-sm btn-info pull-left"
                              (click)="btnback1()"
                            >Back</button> 
                            </div> 
                        </div> 
                        <div class="col-md-12 table-responsive" [hidden]="PACSDETAILSLIST.length < 1" *ngIf="ViewPACSDet"> 
                          <table class="table table-bordered">
                              <thead class="thead-dark">
                                  <tr>
                                      <th>S.No</th>
                                      <th>DEVICE NAME</th>
                                      <th>DEVICE IMAGE</th>
                                      <th>TAX INVOICE</th>
                                      <th>DELIVERY CHALLAN</th> 
                                      <th>INSTALLATION REPORT</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  <tr *ngFor="let obj of PACSDETAILSLIST; let i = index" >
                                      <td style="font-size: 14px;"><b>{{ i + 1 }}</b></td>  
                                      <td style="font-size: 14px;"><b>{{ obj.DEVICE_NAME }}</b></td>
                                      <td> 
                                        <button 
                                        type="button"
                                         *ngIf="obj.DEVICE_IMAGE != null"
                                          class="btn btn-link btn-sm" 
                                          (click)="btnPhotoView(obj.DEVICE_IMAGE)" style="font-size: 12px;">  
                                            View
                                        </button>
                                        <span *ngIf="obj.DEVICE_IMAGE == null">NA </span> 
                                    </td> 
                                       
                                      

                                      <td> 
                                        <button 
                                        type="button"
                                         *ngIf="obj.TAX_INVOICE != null"
                                          class="btn btn-link btn-sm" 
                                          (click)="btnPdfView(obj.TAX_INVOICE)" style="font-size: 12px;">  
                                            View
                                        </button>
                                        <span *ngIf="obj.TAX_INVOICE == null">NA </span> 
                                    </td> 
                                      <td> 
                                        <button 
                                        type="button"
                                         *ngIf="obj.DELIVERY_CHALLAN != null"
                                          class="btn btn-link btn-sm" 
                                          (click)="btnPdfView(obj.DELIVERY_CHALLAN)" style="font-size: 12px;">  
                                            View
                                        </button>
                                        <span *ngIf="obj.DELIVERY_CHALLAN == null">NA </span> 
                                    </td> 

                                    <td> 
                                      <button 
                                      type="button"
                                       *ngIf="obj.INSTALLATION_DOC != null"
                                        class="btn btn-link btn-sm" 
                                        (click)="btnPdfView(obj.INSTALLATION_DOC)" style="font-size: 12px;">  
                                          View
                                      </button>
                                      <span *ngIf="obj.INSTALLATION_DOC == null">NA </span> 
                                  </td>  

                                  </tr>
                              </tbody> 
                          </table>  
 <div *ngIf="Checkboxdisable">
                          <div class="col-md-12 row "  *ngIf="ViewPACSDet">
                              
                            <div class="col-md-5"></div>
                            <div class="col-md-2">
                              <button
                              type="button"
                              class="btn btn-sm btn-info pull-right"
                              (click)="btnVerify1()"
                            >APPROVE</button> 
                            </div>
                            <div class="col-md-5"></div>
                        </div>
                      </div>
                      </div> 




                          </div>
                      </div>


                      <div class="popup-modal" *ngIf="ShowRejectPopup">
                        <div class="popup-content" style="min-width: 75%">
                          <div class="popup-header">
                            <h4 class="title"> Computerisation PACS Payments <span>{{Statustype}}</span></h4>
                            <a type="button" class="close" style="cursor: pointer">
                              <span (click)="onClear()">×</span>
                            </a>
                          </div>
                      
                          <div class="popup-body" style="max-height:500px; overflow-y: auto;">
                            <div class="row justify-content-center align-items-center">
                      
                              <div class="col-md-12 row">
                                <div class="col-md-2"></div>
                                <div class="col-md-8">
                                  <label for="stockpoint">Remarks <span style="color: red">*</span></label>
                                  <textarea type="text" class="form-control" [(ngModel)]="Remarks"></textarea>
                                </div>
                              </div>
                              <br>
                              <div class="row">
                              </div>
                              <div class="popup-footer justify-content-center">
                                <button type="button" class="btn btn-sm btn-success text-white" (click)="btnRejectSubmit()">
                                  SUBMIT
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                       
                    </div>
                  </div>
                </div>
              </div>
            </div> 
        </section>
        <!-- // Basic form layout section end -->
      </div>
    </div>
  </div>
  
